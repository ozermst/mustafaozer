{% load wagtailcore_tags wagtailimages_tags %}
{% if self.products|length %}
    {% with self.products|length as length %}
        <div class="my-4">
            <h2 class="text-xl font-medium prose">{{ self.heading }}</h2>
        </div>
        <div class="grid grid-cols-1 {% if length == 1 %} grid-cols-1 {% elif length == 2 %} grid-cols-2 gap-4 {% else %} gap-4 sm:grid-cols-2 md:grid-cols-3 {% endif %}">
            {% for product in self.products %}
                <div class="flex flex-col h-full overflow-hidden bg-slate-50 md:rounded md:shadow-xl">
                    <div>{% image product.image fill-1000x500 %}</div>
                    <div class="p-4">
                        <div>
                            <h2 class="text-lg font-medium prose">{{ product.name }}</h2>
                            <div class="my-2 prose prose-p:text-sm prose-ul:text-sm">{{ product.details|richtext }}</div>
                        </div>
                        <div class="">
                            {% comment %} <a href="{% pageurl post %}" class="prose link link-primary">Devamını oku</a> {% endcomment %}
                        </div>
                    </div>
                </div>
            {% endfor %}
        </div>
    {% endwith %}
{% endif %}
